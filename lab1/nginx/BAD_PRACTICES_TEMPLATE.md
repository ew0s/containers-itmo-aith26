# Bad Practices для Dockerfile

## Задание
Проанализируйте Dockerfile в `lab1/nginx/Dockerfile` и заполните этот шаблон, указав **плохие практики**, которые присутствуют в текущем Dockerfile или которые могут возникнуть при неправильном использовании.

---

## 1. Проблемы с безопасностью

**Описание проблемы:**
_Опишите проблемы безопасности, которые вы обнаружили (например, запуск от root, устаревшие пакеты, и т.д.)_

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile, где присутствует проблема_
```

**Почему это плохо:**
_Объясните, какие риски это создает_

**Как исправить:**
_Предложите способ исправления (но не реализуйте его полностью)_

---

## 2. Неоптимальное использование слоев

**Описание проблемы:**
_Опишите проблемы с организацией слоев (слишком много RUN команд, неоптимальный порядок, и т.д.)_

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile_
```

**Почему это плохо:**
_Объясните, как это влияет на размер образа и скорость сборки_

**Как исправить:**
_Предложите способ оптимизации_

---

## 3. Отсутствие версионирования

**Описание проблемы:**
_Опишите проблемы с версионированием зависимостей или базовых образов_

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile_
```

**Почему это плохо:**
_Объясните риски использования latest или нефиксированных версий_

**Как исправить:**
_Предложите способ фиксации версий_

---

## 4. Неполная очистка

**Описание проблемы:**
_Опишите проблемы с очисткой временных файлов, кэша пакетного менеджера, и т.д._

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile_
```

**Почему это плохо:**
_Объясните, как это увеличивает размер образа_

**Как исправить:**
_Предложите способы более тщательной очистки_

---

## 5. Отсутствие healthcheck

**Описание проблемы:**
_Опишите отсутствие механизма проверки здоровья контейнера_

**Пример из Dockerfile:**
```
_Укажите, что HEALTHCHECK отсутствует_
```

**Почему это плохо:**
_Объясните, как это усложняет мониторинг и оркестрацию_

**Как исправить:**
_Предложите добавление HEALTHCHECK инструкции_

---

## 6. Жестко закодированные значения

**Описание проблемы:**
_Опишите использование жестко закодированных значений вместо переменных окружения или аргументов сборки_

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile_
```

**Почему это плохо:**
_Объясните, как это снижает гибкость и переиспользуемость_

**Как исправить:**
_Предложите использование ARG или ENV_

---

## 7. Отсутствие .dockerignore

**Описание проблемы:**
_Опишите отсутствие .dockerignore файла и его последствия_

**Пример:**
```
_Опишите, какие ненужные файлы могут попасть в контекст сборки_
```

**Почему это плохо:**
_Объясните, как это влияет на скорость сборки и безопасность_

**Как исправить:**
_Предложите создание .dockerignore файла_

---

## 8. Неоптимальная организация команд

**Описание проблемы:**
_Опишите проблемы с порядком выполнения команд или их группировкой_

**Пример из Dockerfile:**
```
_Вставьте соответствующие строки из Dockerfile_
```

**Почему это плохо:**
_Объясните, как это влияет на кэширование слоев_

**Как исправить:**
_Предложите оптимизацию порядка команд_

---

## 9. Отсутствие документации в образе

**Описание проблемы:**
_Опишите отсутствие метаданных (LABEL) в образе_

**Пример из Dockerfile:**
```
_Укажите, что LABEL инструкции отсутствуют_
```

**Почему это плохо:**
_Объясните, как это усложняет управление образами_

**Как исправить:**
_Предложите добавление LABEL инструкций_

---

## 10. Дополнительные bad practices

**Проблема:**
_Опишите любую другую плохую практику, которую вы обнаружили_

**Пример:**
```
_Приведите пример из Dockerfile или опишите потенциальную проблему_
```

**Почему это плохо:**
_Объясните негативные последствия_

**Как исправить:**
_Предложите способ исправления_

---

## Итоговые рекомендации

_Опишите общие проблемы Dockerfile и приоритетные направления для улучшения_

